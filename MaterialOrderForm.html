<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Material Order Form</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
      }
      .material-order-form {
        max-width: 900px;
        margin: auto;
      }
      .form-header h2 {
        display: inline-block;
        margin: 0;
      }
      .form-header button {
        float: right;
      }
      .form-group {
        margin-bottom: 15px;
      }
      .form-section {
        margin-top: 30px;
      }
      .tab-buttons button.active {
        font-weight: bold;
      }
      .tab-pane {
        display: none;
      }
      .tab-pane.active {
        display: block;
      }
      .products-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 10px;
        margin-top: 10px;
      }
      .product-card {
        border: 1px solid #ccc;
        padding: 10px;
        border-radius: 5px;
      }
      .selected-items-table {
        width: 100%;
        border-collapse: collapse;
      }
      .selected-items-table th, .selected-items-table td {
        border: 1px solid #ccc;
        padding: 8px;
        text-align: left;
      }
    </style>
  </head>
  <body>
    <div class="material-order-form">
      <div class="form-header">
        <h2>Material Order Form</h2>
        <button onclick="returnToHome()" class="btn btn-secondary">Back to Home</button>
      </div>

      <form id="material-order-form">
        <div class="form-section">
          <h3>Job Info</h3>
          <div class="form-group">
            <label for="jobSelector">Select Job</label>
            <select id="jobSelector"></select>
          </div>
        </div>

        <div class="form-section">
          <h3>Delivery Info</h3>
          <div class="form-group">
            <label for="deliveryType">Delivery Type</label>
            <select id="deliveryType">
              <option value="Will Call">Will Call</option>
              <option value="Delivery">Delivery</option>
            </select>
          </div>
          <div class="form-group" id="delivery-address-group" style="display:none;">
            <label for="deliveryAddress">Delivery Address</label>
            <textarea id="deliveryAddress" rows="2"></textarea>
          </div>
        </div>

        <div class="form-section">
          <h3>Products</h3>
          <div class="tabs">
            <div class="tab-buttons">
              <button type="button" class="tab-button active" data-tab="paint">Paint</button>
              <button type="button" class="tab-button" data-tab="sundries">Sundries</button>
              <button type="button" class="tab-button" data-tab="packages">Packages</button> <!-- New Packages tab -->
            </div>
            <div class="tab-content">
              <div class="tab-pane active" id="paint-tab">
                <div class="form-group">
                  <label for="paintVendor">Paint Vendor</label>
                  <select id="paintVendor"></select>
                </div>
                <div class="form-group">
                  <label for="paintProduct">Paint Product:</label>
                  <select id="paintProduct">
                    <option value="">-- Select Product --</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="paintColor">Paint Color:</label>
                  <input type="text" id="paintColor" placeholder="Enter paint color">
                </div>
                <div class="form-group">
                  <label for="paintSheen">Paint Sheen:</label>
                  <input type="text" id="paintSheen" placeholder="Enter paint sheen">
                </div>
                <div class="form-group">
                  <label for="paintQty">Quantity:</label>
                  <input type="number" id="paintQty" min="1" value="1">
                </div>
                <button type="button" onclick="addSelectedPaint()">Add</button>
              </div>

              <div class="tab-pane" id="sundries-tab">
                <div class="form-group">
                  <label for="sundriesCategory">Sundries Category</label>
                  <select id="sundriesCategory">
                    <option value="">-- Select Category --</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="sundriesProduct">Sundries Product</label>
                  <select id="sundries-container">
                    <option value="">-- Select Product --</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="sundriesQty">Quantity:</label>
                  <input type="number" id="sundriesQty" min="1" value="1">
                </div>
                <button type="button" onclick="addSelectedSundries()">Add</button>
              </div>

              <!-- Packages Tab -->
              <div class="tab-pane" id="packages-tab">
                <div class="form-group">
                  <label for="packageSelector">Select Package</label>
                  <select id="packageSelector">
                    <option value="">-- Select Package --</option>
                  </select>
                </div>
                <button type="button" onclick="addSelectedPackage()">Add Package</button>
              </div>

            </div>
          </div>
        </div>

        <div class="form-section">
          <h3>Selected Items</h3>
<!-- Table for Paint Items -->
<table class="selected-items-table">
  <thead>
    <tr>
      <th>Product</th>
      <th>Color</th>
      <th>Sheen</th>
      <th>Qty</th>
      <th>Notes</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody id="selected-paint-items-body">
    <tr id="no-paint-items-row">
      <td colspan="6">No paint items selected</td>
    </tr>
  </tbody>
</table>

<!-- Table for Sundries Items -->
<table class="selected-items-table">
  <thead>
    <tr>
      <th>Product</th>
      <th>Qty</th>
      <th>Notes</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody id="selected-sundries-items-body">
    <tr id="no-sundries-items-row">
      <td colspan="4">No sundries items selected</td>
    </tr>
  </tbody>
</table>

        </div>

        <div class="form-section">
          <h3>Notes</h3>
          <textarea id="notes" rows="3"></textarea>
        </div>

        <div class="form-actions">
          <button type="submit">Submit Order</button>
        </div>
      </form>
    </div>

    <?!= include('MaterialOrderFormScript'); ?>
  </body>
</html>
